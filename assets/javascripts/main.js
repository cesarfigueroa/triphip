(function(){window.Modernizr=function(a,b,c){function w(a){i.cssText=a}function x(a,b){return w(m.join(a+";")+(b||""))}function y(a,b){return typeof a===b}function z(a,b){return!!~(""+a).indexOf(b)}function A(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:y(f,"function")?f.bind(d||b):f}return!1}function B(){e.inputtypes=function(a){for(var d=0,e,g,h,i=a.length;d<i;d++)j.setAttribute("type",g=a[d]),e=j.type!=="text",e&&(j.value=k,j.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(g)&&j.style.WebkitAppearance!==c?(f.appendChild(j),h=b.defaultView,e=h.getComputedStyle&&h.getComputedStyle(j,null).WebkitAppearance!=="textfield"&&j.offsetHeight!==0,f.removeChild(j)):/^(search|tel)$/.test(g)||(/^(url|email)$/.test(g)?e=j.checkValidity&&j.checkValidity()===!1:e=j.value!=k)),o[a[d]]=!!e;return o}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d="2.8.3",e={},f=b.documentElement,g="modernizr",h=b.createElement(g),i=h.style,j=b.createElement("input"),k=":)",l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n={},o={},p={},q=[],r=q.slice,s,t=function(a,c,d,e){var h,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:g+(d+1),l.appendChild(j);return h=["&#173;",'<style id="s',g,'">',a,"</style>"].join(""),l.id=g,(m?l:n).innerHTML+=h,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=f.style.overflow,f.style.overflow="hidden",f.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),f.style.overflow=k),!!i},u={}.hasOwnProperty,v;!y(u,"undefined")&&!y(u.call,"undefined")?v=function(a,b){return u.call(a,b)}:v=function(a,b){return b in a&&y(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=r.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(r.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(r.call(arguments)))};return e}),n.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:t(["@media (",m.join("touch-enabled),("),g,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9}),c};for(var C in n)v(n,C)&&(s=C.toLowerCase(),e[s]=n[C](),q.push((e[s]?"":"no-")+s));return e.input||B(),e.addTest=function(a,b){if(typeof a=="object")for(var d in a)v(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof enableClasses!="undefined"&&enableClasses&&(f.className+=" "+(b?"":"no-")+a),e[a]=b}return e},w(""),h=j=null,e._version=d,e._prefixes=m,e.testStyles=t,e}(this,this.document);var DatePicker={initialize:function(config){this.config=config||{};if(this.isSupported()&&this.isPickerPresent()){this.prefill()}else if(!this.isSupported()&&this.isPickerPresent()){this.setup()}},setup:function(){Array.prototype.map.call(this.config.inputs,function(element){element.setAttribute("type","text")})},prefill:function(){this.config.toInput.value=this.getDate(7);this.config.fromInput.value=this.getDate(10)},getDate:function(daysAhead){var currentDate=new Date;var futureDate=currentDate.setDate(currentDate.getDate()+daysAhead);return new Date(futureDate).toISOString().substr(0,10)},isSupported:function(){return Modernizr.touch&&Modernizr.inputtypes.date},isPickerPresent:function(){return document.body.contains(this.config.toInput)}};DatePicker.initialize({inputs:document.querySelectorAll('input[type="date"]'),toInput:document.querySelector("#to-date"),fromInput:document.querySelector("#from-date")});var Form={initialize:function(config){this.config=config||{};if(this.isFormPresent()){this.setup();this.bindEvents()}},setup:function(){this.config.form.noValidate=true;this.config.submitButton.disabled=true},bindEvents:function(){Array.prototype.map.call(this.config.fields,function(element){element.addEventListener("blur",this.events.blur.bind(this));element.addEventListener("input",this.events.input.bind(this))}.bind(this))},events:{blur:function(event){this.updateField(event.target)},input:function(){this.updateForm()}},updateForm:function(){this.config.submitButton.disabled=!this.config.form.checkValidity()},updateField:function(element){element.setCustomValidity("");this.validate(element)},validate:function(element){if(element.checkValidity()){this.hideError(element)}else{this.setValidationMessage(element);this.showError(element)}},showError:function(element){element.parentElement.classList.add("invalid");element.parentElement.dataset.errorMessage=element.validationMessage},hideError:function(element){element.parentElement.classList.remove("invalid")},setValidationMessage:function(element){if(element.validity.typeMismatch||element.validity.badInput){element.setCustomValidity("Invalid")}else if(element.validity.valueMissing){element.setCustomValidity("Missing")}},isFormPresent:function(){return document.body.contains(this.config.form)}};Form.initialize({form:document.querySelector("form.validate"),fields:document.querySelectorAll("form.validate input"),submitButton:document.querySelector("form.validate .button")});var Gallery={initialize:function(config){this.config=config||{};this.bindEvents()},bindEvents:function(){Array.prototype.map.call(this.config.galleries,function(gallery){gallery.addEventListener("click",this.events.click.bind(this));gallery.addEventListener("touchend",this.events.tap.bind(this))}.bind(this))},events:{click:function(event){this.setImage(event)},tap:function(event){event.preventDefault();this.setImage(event)}},setImage:function(event){this.setCurrentImage(event);this.setNextImage()},setCurrentImage:function(event){this.currentImage=event.currentTarget.querySelector(".selected");this.currentImage.className=""},getNextImage:function(){return this.currentImage.nextElementSibling||this.currentImage.parentElement.firstElementChild},setNextImage:function(){this.getNextImage().className="selected"}};Gallery.initialize({galleries:document.querySelectorAll(".gallery")});var Hero={initialize:function(config){this.config=config||{};if(this.isImagePresent()){this.setup();this.bindEvents()}},setup:function(){this.setImage();this.adjustContainer()},bindEvents:function(){window.addEventListener("resize",this.events.resize.bind(this));window.addEventListener("orientationchange",this.events.orientationchange.bind(this))},events:{resize:function(){this.adjustContainer()},orientationchange:function(){this.adjustContainer()}},setImage:function(){this.config.container.style.backgroundImage=this.imageURL();this.config.container.style.backgroundPosition=this.imagePosition();this.config.image.style.visibility="hidden"},imageURL:function(){return"url('"+this.config.container.getAttribute("data-image-src")+"')"},imagePosition:function(){if(this.config.container.dataset.position){return"center "+this.config.container.dataset.position}},adjustContainer:function(){this.config.container.style.marginLeft=-this.offsetLeft()+"px";this.config.container.style.width=this.viewportWidth()+"px"},viewportWidth:function(){return document.documentElement.clientWidth},offsetParentWidth:function(){var padding=72;return this.config.container.offsetParent.clientWidth-padding},offsetLeft:function(){return Math.floor((this.viewportWidth()-this.offsetParentWidth())/2)},isImagePresent:function(){return document.body.contains(this.config.container)}};Hero.initialize({container:document.querySelector(".hero"),image:document.querySelector(".hero img")});var Search={initialize:function(config){this.config=config||{};if(this.isSearchPresent()){this.setup();this.bindEvents()}},setup:function(){this.config.input.tabIndex="-1"},bindEvents:function(){this.config.label.addEventListener("click",this.events.click.bind(this));this.config.label.addEventListener("touchend",this.events.tap.bind(this))},events:{click:function(){this.toggle()},tap:function(){event.preventDefault();this.toggle()}},toggle:function(){this.config.form.classList.toggle("open")},isSearchPresent:function(){return document.body.contains(this.config.form)}};Search.initialize({form:document.querySelector(".search--underlay"),label:document.querySelector(".search--underlay label"),input:document.querySelector(".search--underlay input")})})();